import{o as e,c as t,a as s,t as d,F as _,f as h,e as g,l as c,g as y,k as f,d as C,n as b,i as O}from"./index-21a5a4a1.js";const D={style:{border:"1px solid #ccc",padding:"20px"}},q={style:{"margin-top":"0"}},w=["name","value","onChange"],$={__name:"QuestionData",props:["questionData"],emits:["emitCheckOption"],setup(p,{emit:u}){const k=p;function n(l){u("emitCheckOption",{...k.questionData,checkOption:l})}return(l,v)=>(e(),t("section",D,[s("p",q,d(p.questionData.topic)+"：",1),(e(!0),t(_,null,h(p.questionData.options,o=>(e(),t("div",null,[s("label",null,[s("input",{type:"radio",name:o.name,value:o.value,onChange:x=>n(o)},null,40,w),g(" "+d(o.display),1)])]))),256))]))}};const V={style:{padding:"30px"}},B=["onClick"],E={style:{margin:"20px 0"}},S=["disabled"],N={key:0},Q={style:{"margin-bottom":"20px"}},L={__name:"QuestionnaireView",setup(p){const u=c(0),k=c(["問題一","問題二","問題三"]),n=c([]),l=c(!1),v=c([{topic:"您的性別",order:1,options:[{name:"sex",value:"male",display:"男"},{name:"sex",value:"female",display:"女"},{name:"sex",value:"others",display:"其他"}]},{topic:"您是無性經驗",order:2,options:[{name:"sexualExp",value:"true",display:"有"},{name:"sexualExp",value:"false",display:"無"}]},{topic:"您可否接受婚前性行為",order:3,options:[{name:"premaritalSex",value:"true",display:"可以"},{name:"premaritalSex",value:"false",display:"不可"}]}]);function o(r){const i=n.value.findIndex(a=>a.checkOption.name===r.checkOption.name);i>=0&&n.value.splice(i,1),n.value.push(r)}function x(){n.value.sort((r,i)=>r.order-i.order),l.value=!0}return(r,i)=>(e(),t("main",V,[y(s("section",null,[(e(!0),t(_,null,h(k.value,(a,m)=>(e(),t("button",{class:b(["tab-button",{active:u.value===m}]),onClick:A=>u.value=m},d(a),11,B))),256)),(e(!0),t(_,null,h(v.value,(a,m)=>y((e(),O($,{questionData:a,onEmitCheckOption:o},null,8,["questionData"])),[[f,u.value===m]])),256)),s("div",E,"已選擇 "+d(n.value.length+"/"+v.value.length),1),s("div",null,[s("button",{disabled:n.value.length<v.value.length,onClick:x},"確認答案",8,S)])],512),[[f,!l.value]]),l.value?(e(),t("div",N,[(e(!0),t(_,null,h(n.value,a=>(e(),t("div",Q,d(a.topic+"："+a.checkOption.display),1))),256)),s("div",null,[s("button",{onClick:i[0]||(i[0]=a=>l.value=!1)},"返回")])])):C("",!0)]))}};export{L as default};
