import{l as p,m as C,o as n,c as l,a as i,t as v,F as h,f as y,e as b,g,k as f,n as x,i as D,d as q}from"./index-0a50d1ca.js";const w={style:{border:"1px solid #ccc",padding:"20px"}},B={style:{"margin-top":"0"}},L=["name","value","onChange"],$={__name:"QuestionData",props:["questionData","checkList"],emits:["emitCheckOption"],setup(m,{emit:r}){const s=m,e=p([]);C(()=>{const c=e.value.find(_=>s.checkList.find(t=>_.value===t.value));c&&(c.checked=!0)});function u(c){r("emitCheckOption",c,s.questionData.topic,s.questionData.order)}return(c,_)=>(n(),l("section",w,[i("p",B,v(m.questionData.topic)+"：",1),(n(!0),l(h,null,y(m.questionData.options,t=>(n(),l("div",null,[i("label",null,[i("input",{type:"radio",ref_for:!0,ref_key:"inputRef",ref:e,name:t.name,value:t.value,onChange:o=>u(t)},null,40,L),b(" "+v(t.display),1)])]))),256))]))}};const A={style:{padding:"3rem"}},O={style:{"margin-bottom":"1rem"}},V=["onClick"],I={style:{"margin-bottom":"1rem"}},E={style:{"margin-bottom":"1rem"}},F=["disabled"],Q={__name:"QuestionnaireView",setup(m){const r=p(1),s=p(!1),e=p([]),u=p([]);setTimeout(()=>{u.value=[{topic:"您的性別",order:1,options:[{name:"sex",value:"male",display:"男"},{name:"sex",value:"female",display:"女"},{name:"sex",value:"others",display:"其他"}]},{topic:"您最喜歡下面哪隻狗狗",order:2,options:[{name:"dog",value:"dogA",display:"阿寶"},{name:"dog",value:"dogB",display:"秋葵"}]},{topic:"您最喜歡下面哪隻貓貓",order:3,options:[{name:"cat",value:"catA",display:"蛋捲"},{name:"cat",value:"catB",display:"短褲"},{name:"cat",value:"catC",display:"麻糊"},{name:"cat",value:"catD",display:"米香"},{name:"cat",value:"catE",display:"橘皮"},{name:"cat",value:"catF",display:"本丸"},{name:"cat",value:"catG",display:"Yia"},{name:"cat",value:"catH",display:"丁滿"},{name:"cat",value:"catI",display:"澎澎"}]},{topic:"您最喜歡下面哪隻豬",order:4,options:[{name:"pig",value:"pigA",display:"喬治"},{name:"pig",value:"pigB",display:"佩奇"}]}]},1e3);function c(t,o,a){const d=e.value.findIndex(k=>k.order===o);d>=0&&e.value.splice(d,1),e.value.push({...t,order:o,topic:a})}function _(){e.value.sort((t,o)=>t.order-o.order),s.value=!0}return(t,o)=>(n(),l("section",A,[g(i("div",null,[i("div",O,[(n(!0),l(h,null,y(u.value,(a,d)=>(n(),l("button",{onClick:k=>r.value=a.order,class:x(["tab-button",{active:r.value===d+1}])}," 問題"+v(a.order),11,V))),256)),(n(!0),l(h,null,y(u.value,(a,d)=>g((n(),l("div",I,[r.value===d+1?(n(),D($,{key:0,questionData:a,checkList:e.value,onEmitCheckOption:c},null,8,["questionData","checkList"])):q("",!0)],512)),[[f,r.value===a.order]])),256))]),i("div",E," 已選擇"+v(e.value.length)+"/"+v(u.value.length),1),i("div",null,[i("button",{disabled:e.value.length!==u.value.length,onClick:_},"確認答案",8,F)])],512),[[f,!s.value]]),g(i("div",null,[(n(!0),l(h,null,y(e.value,a=>(n(),l("div",null,[i("div",null,v(a.topic+":"+a.display),1)]))),256)),i("button",{onClick:o[0]||(o[0]=a=>s.value=!1)},"返回")],512),[[f,s.value]])]))}};export{Q as default};
