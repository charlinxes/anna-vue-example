import{o as m,c as _,a as y,t as D,F as B,f as N,e as U,l as H,m as $,p as J,g as G,k as Q,d as K,n as W,i as X}from"./index-5261e32d.js";const ee={style:{border:"1px solid #ccc",padding:"20px"}},te={style:{"margin-top":"0"}},re=["name","value","onChange"],ne={__name:"QuestionData",props:["questionData"],emits:["emitCheckOption"],setup(r,{emit:e}){const n=r;function t(a){e("emitCheckOption",{...n.questionData,checkOption:a})}return(a,u)=>(m(),_("section",ee,[y("p",te,D(r.questionData.topic)+"：",1),(m(!0),_(B,null,N(r.questionData.options,i=>(m(),_("div",null,[y("label",null,[y("input",{type:"radio",name:i.name,value:i.value,onChange:h=>t(i)},null,40,re),U(" "+D(i.display),1)])]))),256))]))}};var A={},T=/^([+-])?0*(\d+)(\.(\d+))?$/,z=/^([+-])?0*(\d+)(\.(\d+))?e(([+-])?(\d+))$/i,ae=A.e2ten=function(r){var e=z.exec(r.toString());if(!e)return r;var n=e[2],t=e[4]||"",a=e[5]?+e[5]:0;if(a>0){var u=t.substr(0,a);u=u.length<a?u+new Array(a-u.length+1).join("0"):u,t=t.substr(a),n+=u}else{a=-a;var i=n.length-a;i=i<0?0:i;var h=n.substr(i,a);h=h.length<a?new Array(a-h.length+1).join("0")+h:h,n=n.substring(0,i),t=h+t}return n=n==""?"0":n,(e[1]=="-"?"-":"")+n+(t?"."+t:"")};A.getNumbResult=function(r){var e=T.exec(r.toString());if(!e&&z.test(r.toString())&&(e=T.exec(ae(r.toString()))),e)return{int:e[2],decimal:e[4],minus:e[1]=="-",num:e.slice(1,3).join("")}};A.centerArray=function r(e,n){if(e.splice.apply(e,[0,n.length].concat(n.splice(0,n.length))),arguments.length>2){var t=[].slice.call(arguments,2);t.unshift(e),r.apply(null,t)}return e};var ie=A.hasAttr=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)};A.extend=function(r){for(var e,n=arguments[0]||{},t=Array.prototype.slice.call(arguments,1),a=0;a<t.length;a++){var u=t[a];for(e in u)ie(u,e)&&(n[e]=u[e])}return n};A.getDigit=function(r){return r>=5?(r-4)*4+4:r};A.unshiftZero=function(r,e){if(e==null&&(e=1),!(e<=0))for(;e--;)r.unshift(0)};A.clearZero=function(r,e,n){if(r==null)return"";var t=~"*.?+$^[](){}|\\/".indexOf(e)?"\\"+e:e,a=new RegExp("^"+t+"+"),u=new RegExp(t+"+$"),i=new RegExp(t+"{2}","g");return r=r.toString(),n=="^"&&(r=r.replace(a,"")),(!n||n=="$")&&(r=r.replace(u,"")),(!n||n=="nto1")&&(r=r.replace(i,e)),r};var v=A;function S(r,e){var n=v.getNumbResult(r);if(!n)return r;e=e||{};var t=this.ch,a=this.ch_u,u=this.ch_f||"",i=this.ch_d||".",h=t.charAt(0),o=n.int,s=n.decimal,l=n.minus,c="",f="",d=l?u:"",g=function b(x,we,be){x=v.getNumbResult(x).int;var k="",j=arguments.length>1?arguments[1]:e.tenMin,L=x.length;if(L==1)return t.charAt(+x);if(L<=4)for(var M=0,Z=L;Z--;){var q=+x.charAt(M);k+=j&&L==2&&M==0&&q==1?"":t.charAt(q),k+=q&&Z?a.charAt(Z):"",M++}else{for(var V=x.length/4>>0,R=x.length%4;R==0||!a.charAt(3+V);)R+=4,V--;var P=x.substr(0,R),F=x.substr(R);k=b(P,j)+a.charAt(3+V)+(F.charAt(0)=="0"?h:"")+b(F,F.length>4?j:!1)}return k=v.clearZero(k,h),k};if(s){s=v.clearZero(s,"0","$");for(var w=0;w<s.length;w++)f+=t.charAt(+s.charAt(w));f=f?i+f:""}if(c=g(o),e.ww&&a.length>5){var C=a.charAt(4),p=a.charAt(5),O=c.lastIndexOf(p);~O&&(c=c.substring(0,O).replace(new RegExp(p,"g"),C+C)+c.substring(O))}return d+c+f}function le(r){r=r.toString();var e=r.split(this.ch_d),n=e[0].replace(this.ch_f,""),t=e[1],a=!!~e[0].indexOf(this.ch_f),u=this.ch_u.charAt(1),i=this.ch_u.charAt(4),h=this.ch_u.charAt(5);n=n.replace(new RegExp(i+"{2}","g"),h);for(var o=n.split(""),s=0,l=0,c=[],f=[],d=[],g=0;g<o.length;g++){var w=o[g],C=0,p=0;if(~(C=this.ch.indexOf(w)))C>0&&d.unshift(C);else if(~(p=this.ch_u.indexOf(w))){var O=v.getDigit(p);s>p?(v.unshiftZero(d,O),v.centerArray(f,d)):p>=l?(g==0&&(d=[1]),v.centerArray(c,f,d),c.length>0&&v.unshiftZero(c,O),l=p):(d.length==0&&u==w&&(d=[1]),v.centerArray(f,d),v.unshiftZero(f,v.getDigit(p)),s=p)}}v.centerArray(c,f,d).reverse(),c.length==0&&c.push(0);var b=0;if(t){c.push("."),b="0.";for(var g=0;g<t.length;g++)b+=this.ch.indexOf(t.charAt(g)),c.push(this.ch.indexOf(t.charAt(g)));b=+b}return a&&c.unshift("-"),parseFloat(c.join(""))}function ue(r,e){var n={ww:!0,complete:!1,outSymbol:!0,unOmitYuan:!1},t=v.getNumbResult(r),a=this.ch.charAt(0);if(e=typeof e=="object"?e:{},!t)return r;e=v.extend(n,e);var u=t.int,i=t.decimal||"",h=e.outSymbol?this.m_t:"",o=t.minus?this.ch_f:"",s="";if(e.complete){for(var l=1;l<this.m_u.length;l++)s+=S.call(this,i.charAt(l-1)||"0")+this.m_u.charAt(l);o+=S.call(this,u,e)+this.m_u.charAt(0)}else{var c=e.unOmitYuan||u!=="0";if(i=i.substr(0,this.m_u.length-1),i=v.clearZero(i,"0","$"),i)for(var f,l=0;l<this.m_u.length-1;l++)i.charAt(l)&&i.charAt(l)!="0"&&(s+=S.call(this,i.charAt(l))+this.m_u.charAt(l+1),f=!1),i.charAt(l)==="0"&&!f&&((l!=0||u!=="0")&&(s+=a),f=!0);(c||!s)&&(o+=S.call(this,u,e)+this.m_u.charAt(0)+(t.decimal?"":this.m_z))}return h+o+s}var ce={CL:S,unCL:le,toMoney:ue},E=ce,I=A;function se(r,e){return{encodeS:function(n,t){return t=I.extend({ww:!0,tenMin:!0},t),E.CL.call(r,n,t)},encodeB:function(n,t){return t=I.extend({ww:!0},t),E.CL.call(e,n,t)},decodeS:function(){return E.unCL.apply(r,arguments)},decodeB:function(){return E.unCL.apply(e,arguments)},toMoney:function(n,t){return t=I.extend({ww:!0},t),E.toMoney.call(e,n,t)}}}var he=se,oe={ch:"零一二三四五六七八九",ch_u:"個十百千萬億",ch_f:"負",ch_d:"點"},fe={ch:"零壹貳參肆伍陸柒捌玖",ch_u:"個拾佰仟萬億",ch_f:"負",ch_d:"點",m_t:"$",m_z:"整",m_u:"圓角分"},ve=he,Y={s:oe,b:fe},de=ve(Y.s,Y.b);const ge=H(de);const me={style:{padding:"30px"}},pe=["onClick"],_e={style:{margin:"20px 0"}},Ae=["disabled"],xe={key:0},ye={style:{"margin-bottom":"20px"}},Oe={__name:"QuestionnaireView",setup(r){const e=$(0),n=$([]),t=$([]),a=$(!1),u=$([{topic:"您的性別",order:1,options:[{name:"sex",value:"male",display:"男"},{name:"sex",value:"female",display:"女"},{name:"sex",value:"others",display:"其他"}]},{topic:"您是無性經驗",order:2,options:[{name:"sexualExp",value:"true",display:"有"},{name:"sexualExp",value:"false",display:"無"}]},{topic:"您可否接受婚前性行為",order:3,options:[{name:"premaritalSex",value:"true",display:"可以"},{name:"premaritalSex",value:"false",display:"不可"}]}]);J(()=>{u.value.forEach(o=>{n.value.push(`問題${ge.encodeS(o.order)}`)})});function i(o){const s=t.value.findIndex(l=>l.checkOption.name===o.checkOption.name);s>=0&&t.value.splice(s,1),t.value.push(o)}function h(){t.value.sort((o,s)=>o.order-s.order),a.value=!0}return(o,s)=>(m(),_("main",me,[G(y("section",null,[(m(!0),_(B,null,N(n.value,(l,c)=>(m(),_("button",{class:W(["tab-button",{active:e.value===c}]),onClick:f=>e.value=c},D(l),11,pe))),256)),(m(!0),_(B,null,N(u.value,(l,c)=>G((m(),X(ne,{questionData:l,onEmitCheckOption:i},null,8,["questionData"])),[[Q,e.value===c]])),256)),y("div",_e,"已選擇 "+D(t.value.length+"/"+u.value.length),1),y("div",null,[y("button",{disabled:t.value.length<u.value.length,onClick:h},"確認答案",8,Ae)])],512),[[Q,!a.value]]),a.value?(m(),_("div",xe,[(m(!0),_(B,null,N(t.value,l=>(m(),_("div",ye,D(l.topic+"："+l.checkOption.display),1))),256)),y("div",null,[y("button",{onClick:s[0]||(s[0]=l=>a.value=!1)},"返回")])])):K("",!0)]))}};export{Oe as default};
