import{_ as C,o as h,c as p,a as t,e as k,t as r,g as o,j as u,n as f,r as m,k as g,F as _,f as x,v as D,i as y}from"./index-8ca13945.js";const w={props:["catData"],data(){return{cardChecked:[]}},methods:{toggleChecked(){this.cardChecked[0]?this.cardChecked.splice(0,1):this.cardChecked.push(this.catData.name),this.$emit("toggleChecked",this.catData)}}},v={style:{margin:"0"}},L=["value"],b={style:{display:"flex",margin:"16px 0 8px"}},A=t("p",{style:{"flex-shrink":"0",width:"50px"}},"年齡：",-1),B={style:{display:"flex",margin:"16px 0 8px"}},N=t("p",{style:{"flex-shrink":"0",width:"50px"}},"描述：",-1),V={style:{display:"flex"}},E=t("p",{style:{"flex-shrink":"0",width:"50px"}},"住址：",-1);function M(a,e,d,l,s,n){return h(),p("main",{class:f(["catCard",{checked:s.cardChecked[0]}]),style:{color:"rgb(112, 50, 6)"},onClick:e[1]||(e[1]=(...c)=>n.toggleChecked&&n.toggleChecked(...c))},[t("h4",v,[k(r(d.catData.name)+" ",1),o(t("input",{type:"checkbox",class:"pointer-events:none",value:d.catData.name,"onUpdate:modelValue":e[0]||(e[0]=c=>s.cardChecked=c)},null,8,L),[[u,s.cardChecked]])]),t("div",b,[A,t("p",null,r(d.catData.age),1)]),t("div",B,[N,t("p",null,r(d.catData.des),1)]),t("div",V,[E,t("p",null,r(d.catData.address),1)])],2)}const T=C(w,[["render",M]]),j={components:{CatCard:T},created(){this.catList=this.catList.map(a=>{const e=new Date(a.birth),d=this.$dayjs(Date.now()).diff(e,"year"),l=this.$dayjs(Date.now()).diff(e,"month"),s=d>0?`${d} 歲`:`${l} 個月大`;return{...a,age:s}})},data(){return{catList:[{id:1,name:"大白",birth:"2020/10/11",des:"我是胖胖大白貓，我欺軟怕硬，最愛欺負小貓",address:"A"},{id:2,name:"紅紅",birth:"2019/4/9",des:"請叫我瘦弱紅紅，貓中一隻花，曾經也是众星拱月，直到我被絕了育QQ",address:"B"},{id:3,name:"黑仔",birth:"2022/10/29",des:"酷酷黑仔就是我，別隨便摸我，誰惹我我跟誰急",address:"C"},{id:4,name:"小黃",birth:"2023/1/23",des:"我明明毛色不黃，但不知道為什麼大家叫我小黃，可能我比較性感吧:D。大白我還在講話你不要弄我",address:"D"},{id:5,name:"阿花",birth:"2021/11/14",des:"我不喜歡別人盯著我看，因為晚上都睡不好，臉很花長了一堆痘痘",address:"E"}],checkedList:[],catNewAddress:"",showDataChange:!1}},methods:{setCheckedList(a){const e=this.checkedList.findIndex(d=>d.id===a.id);e>=0?(console.log(e),this.checkedList.splice(e,1)):this.checkedList.push(a)},changeAddress(){this.catList=this.catList.map(a=>(console.log(this.checkedList),this.checkedList.some(e=>e.id===a.id)?{...a,address:this.catNewAddress}:a)),this.checkedList.forEach(a=>{this.$refs.catList.forEach(e=>{e.cardChecked=[]})}),this.checkedList=[],this.showDataChange=!1}}},F={style:{padding:"30px"}},I={style:{display:"flex","flex-wrap":"wrap",gap:"20px 20px","margin-bottom":"30px"}};function Q(a,e,d,l,s,n){const c=m("CatCard");return h(),p("main",F,[o(t("div",I,[(h(!0),p(_,null,x(s.catList,i=>(h(),y(c,{ref_for:!0,ref:"catList",key:i.id,catData:i,onToggleChecked:n.setCheckedList},null,8,["catData","onToggleChecked"]))),128))],512),[[g,!s.showDataChange]]),o(t("button",{onClick:e[0]||(e[0]=i=>s.showDataChange=!0)},"變更地址",512),[[g,!s.showDataChange]]),o(t("div",null,[t("div",null,[k("新地址："),o(t("input",{"onUpdate:modelValue":e[1]||(e[1]=i=>s.catNewAddress=i)},null,512),[[D,s.catNewAddress]])]),t("button",{onClick:e[2]||(e[2]=(...i)=>n.changeAddress&&n.changeAddress(...i)),style:{"margin-right":"10px"}},"送出"),t("button",{onClick:e[3]||(e[3]=i=>s.showDataChange=!1)},"取消變更")],512),[[g,s.showDataChange]])])}const U=C(j,[["render",Q]]);export{U as default};
